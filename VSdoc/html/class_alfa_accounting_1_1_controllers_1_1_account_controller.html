<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: AlfaAccounting.Controllers.AccountController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_alfa_accounting.html">AlfaAccounting</a></li><li class="navelem"><a class="el" href="namespace_alfa_accounting_1_1_controllers.html">Controllers</a></li><li class="navelem"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html">AccountController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_alfa_accounting_1_1_controllers_1_1_account_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AlfaAccounting.Controllers.AccountController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Name:Mie Tanaka Name:26/05/2017 Description: allows users log in and register their account  
 <a href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#details">More...</a></p>

<p>Inherits Controller.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>ChallengeResult</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a31bb8afad3df5a35af60d598886942d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a31bb8afad3df5a35af60d598886942d2">AccountController</a> ()</td></tr>
<tr class="memdesc:a31bb8afad3df5a35af60d598886942d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">default constructor of account controller  <a href="#a31bb8afad3df5a35af60d598886942d2">More...</a><br /></td></tr>
<tr class="separator:a31bb8afad3df5a35af60d598886942d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff8966cf2dd3222d2198cce217cedd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#adff8966cf2dd3222d2198cce217cedd5">AccountController</a> (ApplicationUserManager userManager, ApplicationSignInManager signInManager)</td></tr>
<tr class="memdesc:adff8966cf2dd3222d2198cce217cedd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user manager and signin mananger as parameter and set it to the UsrManager and SignInManager property  <a href="#adff8966cf2dd3222d2198cce217cedd5">More...</a><br /></td></tr>
<tr class="separator:adff8966cf2dd3222d2198cce217cedd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56dad7128774d78fc1679f133f9dacaa"><td class="memItemLeft" align="right" valign="top">ActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a56dad7128774d78fc1679f133f9dacaa">Login</a> (string returnUrl)</td></tr>
<tr class="memdesc:a56dad7128774d78fc1679f133f9dacaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns empty log in view  <a href="#a56dad7128774d78fc1679f133f9dacaa">More...</a><br /></td></tr>
<tr class="separator:a56dad7128774d78fc1679f133f9dacaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11c863e7062228c7f066a01772b6c5c"><td class="memItemLeft" align="right" valign="top">async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#af11c863e7062228c7f066a01772b6c5c">Login</a> (LoginViewModel model, string returnUrl)</td></tr>
<tr class="memdesc:af11c863e7062228c7f066a01772b6c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks input detail if passed model state is detail is valid, removes booking which does not have InvoiceId and its user id is same as logged in user. redirect user to privious url if does not have previous url returns Home/Index  <a href="#af11c863e7062228c7f066a01772b6c5c">More...</a><br /></td></tr>
<tr class="separator:af11c863e7062228c7f066a01772b6c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7efed3ed876dcfa29c031345b193727"><td class="memItemLeft" align="right" valign="top"><a id="aa7efed3ed876dcfa29c031345b193727"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>VerifyCode</b> (string provider, string returnUrl, bool rememberMe)</td></tr>
<tr class="separator:aa7efed3ed876dcfa29c031345b193727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a758db6d952fd76b782ebb39320abe08b"><td class="memItemLeft" align="right" valign="top"><a id="a758db6d952fd76b782ebb39320abe08b"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>VerifyCode</b> (VerifyCodeViewModel model)</td></tr>
<tr class="separator:a758db6d952fd76b782ebb39320abe08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ab611adeb70fd17fa7bac10fcc3532"><td class="memItemLeft" align="right" valign="top">ActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a27ab611adeb70fd17fa7bac10fcc3532">Register</a> ()</td></tr>
<tr class="memdesc:a27ab611adeb70fd17fa7bac10fcc3532"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns blank register view  <a href="#a27ab611adeb70fd17fa7bac10fcc3532">More...</a><br /></td></tr>
<tr class="separator:a27ab611adeb70fd17fa7bac10fcc3532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0330ad4c73165a5e1a1051a732c77112"><td class="memItemLeft" align="right" valign="top">async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a0330ad4c73165a5e1a1051a732c77112">Register</a> (RegisterViewModel model)</td></tr>
<tr class="memdesc:a0330ad4c73165a5e1a1051a732c77112"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow user to register their detail send user email to verify their email address  <a href="#a0330ad4c73165a5e1a1051a732c77112">More...</a><br /></td></tr>
<tr class="separator:a0330ad4c73165a5e1a1051a732c77112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ec71efe908ba684ccee8bfd27f53d9"><td class="memItemLeft" align="right" valign="top"><a id="af9ec71efe908ba684ccee8bfd27f53d9"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ConfirmEmail</b> (string userId, string code)</td></tr>
<tr class="separator:af9ec71efe908ba684ccee8bfd27f53d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4dd78f4e62fb1858176f83e071f320"><td class="memItemLeft" align="right" valign="top">ActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a8b4dd78f4e62fb1858176f83e071f320">ForgotPassword</a> ()</td></tr>
<tr class="memdesc:a8b4dd78f4e62fb1858176f83e071f320"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns blank forgotpassword view  <a href="#a8b4dd78f4e62fb1858176f83e071f320">More...</a><br /></td></tr>
<tr class="separator:a8b4dd78f4e62fb1858176f83e071f320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197a77ef42b5d09fea5ff4d6381d7f36"><td class="memItemLeft" align="right" valign="top">async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a197a77ef42b5d09fea5ff4d6381d7f36">ForgotPassword</a> (ForgotPasswordViewModel model)</td></tr>
<tr class="memdesc:a197a77ef42b5d09fea5ff4d6381d7f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets posted model data, generate varification code and send it viea email  <a href="#a197a77ef42b5d09fea5ff4d6381d7f36">More...</a><br /></td></tr>
<tr class="separator:a197a77ef42b5d09fea5ff4d6381d7f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42199ed23564186b3277f4c030cb4976"><td class="memItemLeft" align="right" valign="top">ActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a42199ed23564186b3277f4c030cb4976">ForgotPasswordConfirmation</a> ()</td></tr>
<tr class="memdesc:a42199ed23564186b3277f4c030cb4976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns GorgotPasswordConfirmation View  <a href="#a42199ed23564186b3277f4c030cb4976">More...</a><br /></td></tr>
<tr class="separator:a42199ed23564186b3277f4c030cb4976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f8d4a9533cc8e78fa3ed7216f36837"><td class="memItemLeft" align="right" valign="top">ActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#ae9f8d4a9533cc8e78fa3ed7216f36837">ResetPassword</a> (string code)</td></tr>
<tr class="memdesc:ae9f8d4a9533cc8e78fa3ed7216f36837"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns blank resest password view  <a href="#ae9f8d4a9533cc8e78fa3ed7216f36837">More...</a><br /></td></tr>
<tr class="separator:ae9f8d4a9533cc8e78fa3ed7216f36837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a2a1f6a9de8c5c9f458346a9b820e6"><td class="memItemLeft" align="right" valign="top">async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a65a2a1f6a9de8c5c9f458346a9b820e6">ResetPassword</a> (ResetPasswordViewModel model)</td></tr>
<tr class="memdesc:a65a2a1f6a9de8c5c9f458346a9b820e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get post reset password data  <a href="#a65a2a1f6a9de8c5c9f458346a9b820e6">More...</a><br /></td></tr>
<tr class="separator:a65a2a1f6a9de8c5c9f458346a9b820e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfcfa575bc285843ebb0d1fe67ffcde"><td class="memItemLeft" align="right" valign="top"><a id="afcfcfa575bc285843ebb0d1fe67ffcde"></a>
ActionResult&#160;</td><td class="memItemRight" valign="bottom"><b>ResetPasswordConfirmation</b> ()</td></tr>
<tr class="separator:afcfcfa575bc285843ebb0d1fe67ffcde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc74c76545c819bd861bd7651f874d9"><td class="memItemLeft" align="right" valign="top"><a id="acfc74c76545c819bd861bd7651f874d9"></a>
ActionResult&#160;</td><td class="memItemRight" valign="bottom"><b>ExternalLogin</b> (string provider, string returnUrl)</td></tr>
<tr class="separator:acfc74c76545c819bd861bd7651f874d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f4d6df339b4698d427e9d8ff87a9ce"><td class="memItemLeft" align="right" valign="top"><a id="a99f4d6df339b4698d427e9d8ff87a9ce"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>SendCode</b> (string returnUrl, bool rememberMe)</td></tr>
<tr class="separator:a99f4d6df339b4698d427e9d8ff87a9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56dde3690edce7d9b07efd25237538c8"><td class="memItemLeft" align="right" valign="top"><a id="a56dde3690edce7d9b07efd25237538c8"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>SendCode</b> (SendCodeViewModel model)</td></tr>
<tr class="separator:a56dde3690edce7d9b07efd25237538c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37a07ed56c5a029013419b661ef34f4"><td class="memItemLeft" align="right" valign="top"><a id="ab37a07ed56c5a029013419b661ef34f4"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ExternalLoginCallback</b> (string returnUrl)</td></tr>
<tr class="separator:ab37a07ed56c5a029013419b661ef34f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af08224d55461ea02f9539439d1fbb7"><td class="memItemLeft" align="right" valign="top"><a id="a4af08224d55461ea02f9539439d1fbb7"></a>
async Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ExternalLoginConfirmation</b> (ExternalLoginConfirmationViewModel model, string returnUrl)</td></tr>
<tr class="separator:a4af08224d55461ea02f9539439d1fbb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528cb9ea0f972171ecad9424be46bcc1"><td class="memItemLeft" align="right" valign="top">ActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a528cb9ea0f972171ecad9424be46bcc1">LogOff</a> ()</td></tr>
<tr class="memdesc:a528cb9ea0f972171ecad9424be46bcc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">deletes the bookings which does not have Invoice Id then logg off users  <a href="#a528cb9ea0f972171ecad9424be46bcc1">More...</a><br /></td></tr>
<tr class="separator:a528cb9ea0f972171ecad9424be46bcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9dbad59719b81c4b28f33669993ade2"><td class="memItemLeft" align="right" valign="top"><a id="ad9dbad59719b81c4b28f33669993ade2"></a>
ActionResult&#160;</td><td class="memItemRight" valign="bottom"><b>ExternalLoginFailure</b> ()</td></tr>
<tr class="separator:ad9dbad59719b81c4b28f33669993ade2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a286d0b6e745a7a03d42b5b3a78822e6c"><td class="memItemLeft" align="right" valign="top"><a id="a286d0b6e745a7a03d42b5b3a78822e6c"></a>
override void&#160;</td><td class="memItemRight" valign="bottom"><b>Dispose</b> (bool disposing)</td></tr>
<tr class="separator:a286d0b6e745a7a03d42b5b3a78822e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:acc05fd520ca89799979b9b0d389407d7"><td class="memItemLeft" align="right" valign="top">ApplicationSignInManager&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#acc05fd520ca89799979b9b0d389407d7">SignInManager</a><code> [get, private set]</code></td></tr>
<tr class="memdesc:acc05fd520ca89799979b9b0d389407d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow access to owing context throug signin manager  <a href="#acc05fd520ca89799979b9b0d389407d7">More...</a><br /></td></tr>
<tr class="separator:acc05fd520ca89799979b9b0d389407d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af407b4124a36361363279ce45a2d8e78"><td class="memItemLeft" align="right" valign="top">ApplicationUserManager&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#af407b4124a36361363279ce45a2d8e78">UserManager</a><code> [get, private set]</code></td></tr>
<tr class="memdesc:af407b4124a36361363279ce45a2d8e78"><td class="mdescLeft">&#160;</td><td class="mdescRight">allows access to the ownin context through usermanager  <a href="#af407b4124a36361363279ce45a2d8e78">More...</a><br /></td></tr>
<tr class="separator:af407b4124a36361363279ce45a2d8e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d354918dbd3b0c18f08871722b53ca"><td class="memItemLeft" align="right" valign="top"><a id="a70d354918dbd3b0c18f08871722b53ca"></a>
IAuthenticationManager&#160;</td><td class="memItemRight" valign="bottom"><b>AuthenticationManager</b><code> [get]</code></td></tr>
<tr class="separator:a70d354918dbd3b0c18f08871722b53ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b23f6c7851ae1134f37cf1ddb319f5"><td class="memItemLeft" align="right" valign="top"><a id="a40b23f6c7851ae1134f37cf1ddb319f5"></a>
ApplicationSignInManager.ApplicationRoleManager&#160;</td><td class="memItemRight" valign="bottom"><b>RoleManager</b><code> [get, private set]</code></td></tr>
<tr class="separator:a40b23f6c7851ae1134f37cf1ddb319f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a87ae473251c220a1da2786b60780c8e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a87ae473251c220a1da2786b60780c8e7">MigrateShoppingCart</a> (string Userid)</td></tr>
<tr class="memdesc:a87ae473251c220a1da2786b60780c8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">when user logged in shopping cart temp user id is given passed in user id  <a href="#a87ae473251c220a1da2786b60780c8e7">More...</a><br /></td></tr>
<tr class="separator:a87ae473251c220a1da2786b60780c8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa3a682bb8d5ec0d2338412decc261a"><td class="memItemLeft" align="right" valign="top">async Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a1fa3a682bb8d5ec0d2338412decc261a">SendEmailConfirmationTokenAsync</a> (string userID, string subject)</td></tr>
<tr class="memdesc:a1fa3a682bb8d5ec0d2338412decc261a"><td class="mdescLeft">&#160;</td><td class="mdescRight">send email confirmation using passed userID and subject data  <a href="#a1fa3a682bb8d5ec0d2338412decc261a">More...</a><br /></td></tr>
<tr class="separator:a1fa3a682bb8d5ec0d2338412decc261a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71173e2b61957f19b3bf18ddff3d350"><td class="memItemLeft" align="right" valign="top"><a id="ac71173e2b61957f19b3bf18ddff3d350"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AddErrors</b> (IdentityResult result)</td></tr>
<tr class="separator:ac71173e2b61957f19b3bf18ddff3d350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf6df00103aab96806529581aeefd69"><td class="memItemLeft" align="right" valign="top"><a id="a3cf6df00103aab96806529581aeefd69"></a>
ActionResult&#160;</td><td class="memItemRight" valign="bottom"><b>RedirectToLocal</b> (string returnUrl)</td></tr>
<tr class="separator:a3cf6df00103aab96806529581aeefd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2167dbfab02458f4bb690ed818e946"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#aac2167dbfab02458f4bb690ed818e946">CreateAdminIfNeeded</a> ()</td></tr>
<tr class="memdesc:aac2167dbfab02458f4bb690ed818e946"><td class="mdescLeft">&#160;</td><td class="mdescRight">cretate AddminAccount specifed in web config if required.  <a href="#aac2167dbfab02458f4bb690ed818e946">More...</a><br /></td></tr>
<tr class="separator:aac2167dbfab02458f4bb690ed818e946"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a879b7c9b7b0835f6c03365d83f346a0a"><td class="memItemLeft" align="right" valign="top"><a id="a879b7c9b7b0835f6c03365d83f346a0a"></a>
ApplicationDbContext&#160;</td><td class="memItemRight" valign="bottom"><b>db</b> = new ApplicationDbContext()</td></tr>
<tr class="separator:a879b7c9b7b0835f6c03365d83f346a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfac4ebeaa597bc2681ba392adb455a"><td class="memItemLeft" align="right" valign="top"><a id="a5bfac4ebeaa597bc2681ba392adb455a"></a>
ApplicationSignInManager&#160;</td><td class="memItemRight" valign="bottom"><b>_signInManager</b></td></tr>
<tr class="separator:a5bfac4ebeaa597bc2681ba392adb455a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab890e510d97ecbf226a14833fbc02d7"><td class="memItemLeft" align="right" valign="top"><a id="aab890e510d97ecbf226a14833fbc02d7"></a>
ApplicationUserManager&#160;</td><td class="memItemRight" valign="bottom"><b>_userManager</b></td></tr>
<tr class="separator:aab890e510d97ecbf226a14833fbc02d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4246449469968efb41f0b5b4c6d19bf0"><td class="memItemLeft" align="right" valign="top"><a id="a4246449469968efb41f0b5b4c6d19bf0"></a>
const string&#160;</td><td class="memItemRight" valign="bottom"><b>XsrfKey</b> = &quot;XsrfId&quot;</td></tr>
<tr class="separator:a4246449469968efb41f0b5b4c6d19bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312898ad37c6e9c3c3a188110563508b"><td class="memItemLeft" align="right" valign="top">ApplicationSignInManager.ApplicationRoleManager&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_alfa_accounting_1_1_controllers_1_1_account_controller.html#a312898ad37c6e9c3c3a188110563508b">_roleManager</a></td></tr>
<tr class="memdesc:a312898ad37c6e9c3c3a188110563508b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utitily method to allow access to RoleManager  <a href="#a312898ad37c6e9c3c3a188110563508b">More...</a><br /></td></tr>
<tr class="separator:a312898ad37c6e9c3c3a188110563508b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Name:Mie Tanaka Name:26/05/2017 Description: allows users log in and register their account </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a31bb8afad3df5a35af60d598886942d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bb8afad3df5a35af60d598886942d2">&#9670;&nbsp;</a></span>AccountController() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AlfaAccounting.Controllers.AccountController.AccountController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default constructor of account controller </p>

</div>
</div>
<a id="adff8966cf2dd3222d2198cce217cedd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adff8966cf2dd3222d2198cce217cedd5">&#9670;&nbsp;</a></span>AccountController() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AlfaAccounting.Controllers.AccountController.AccountController </td>
          <td>(</td>
          <td class="paramtype">ApplicationUserManager&#160;</td>
          <td class="paramname"><em>userManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ApplicationSignInManager&#160;</td>
          <td class="paramname"><em>signInManager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get user manager and signin mananger as parameter and set it to the UsrManager and SignInManager property </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userManager</td><td></td></tr>
    <tr><td class="paramname">signInManager</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aac2167dbfab02458f4bb690ed818e946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2167dbfab02458f4bb690ed818e946">&#9670;&nbsp;</a></span>CreateAdminIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AlfaAccounting.Controllers.AccountController.CreateAdminIfNeeded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>cretate AddminAccount specifed in web config if required. </p>

</div>
</div>
<a id="a8b4dd78f4e62fb1858176f83e071f320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4dd78f4e62fb1858176f83e071f320">&#9670;&nbsp;</a></span>ForgotPassword() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionResult AlfaAccounting.Controllers.AccountController.ForgotPassword </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns blank forgotpassword view </p>
<dl class="section return"><dt>Returns</dt><dd>returns blank forgotpassword view</dd></dl>

</div>
</div>
<a id="a197a77ef42b5d09fea5ff4d6381d7f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197a77ef42b5d09fea5ff4d6381d7f36">&#9670;&nbsp;</a></span>ForgotPassword() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;ActionResult&gt; AlfaAccounting.Controllers.AccountController.ForgotPassword </td>
          <td>(</td>
          <td class="paramtype">ForgotPasswordViewModel&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets posted model data, generate varification code and send it viea email </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Forgotpassowrd confirmation view</dd></dl>

</div>
</div>
<a id="a42199ed23564186b3277f4c030cb4976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42199ed23564186b3277f4c030cb4976">&#9670;&nbsp;</a></span>ForgotPasswordConfirmation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionResult AlfaAccounting.Controllers.AccountController.ForgotPasswordConfirmation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns GorgotPasswordConfirmation View </p>
<dl class="section return"><dt>Returns</dt><dd>Returns GorgotPasswordConfirmation View</dd></dl>

</div>
</div>
<a id="a56dad7128774d78fc1679f133f9dacaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56dad7128774d78fc1679f133f9dacaa">&#9670;&nbsp;</a></span>Login() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionResult AlfaAccounting.Controllers.AccountController.Login </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>returnUrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns empty log in view </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">returnUrl</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns empty log in view</dd></dl>

</div>
</div>
<a id="af11c863e7062228c7f066a01772b6c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11c863e7062228c7f066a01772b6c5c">&#9670;&nbsp;</a></span>Login() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;ActionResult&gt; AlfaAccounting.Controllers.AccountController.Login </td>
          <td>(</td>
          <td class="paramtype">LoginViewModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>returnUrl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks input detail if passed model state is detail is valid, removes booking which does not have InvoiceId and its user id is same as logged in user. redirect user to privious url if does not have previous url returns Home/Index </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td></td></tr>
    <tr><td class="paramname">returnUrl</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if model state is not valid returs current view else redirect user to privious url if not revious url returns Home/Index</dd></dl>

</div>
</div>
<a id="a528cb9ea0f972171ecad9424be46bcc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528cb9ea0f972171ecad9424be46bcc1">&#9670;&nbsp;</a></span>LogOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionResult AlfaAccounting.Controllers.AccountController.LogOff </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deletes the bookings which does not have Invoice Id then logg off users </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a87ae473251c220a1da2786b60780c8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ae473251c220a1da2786b60780c8e7">&#9670;&nbsp;</a></span>MigrateShoppingCart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AlfaAccounting.Controllers.AccountController.MigrateShoppingCart </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>when user logged in shopping cart temp user id is given passed in user id </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Userid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27ab611adeb70fd17fa7bac10fcc3532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ab611adeb70fd17fa7bac10fcc3532">&#9670;&nbsp;</a></span>Register() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionResult AlfaAccounting.Controllers.AccountController.Register </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns blank register view </p>
<dl class="section return"><dt>Returns</dt><dd>Register view</dd></dl>

</div>
</div>
<a id="a0330ad4c73165a5e1a1051a732c77112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0330ad4c73165a5e1a1051a732c77112">&#9670;&nbsp;</a></span>Register() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;ActionResult&gt; AlfaAccounting.Controllers.AccountController.Register </td>
          <td>(</td>
          <td class="paramtype">RegisterViewModel&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allow user to register their detail send user email to verify their email address </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Info view</dd></dl>

</div>
</div>
<a id="ae9f8d4a9533cc8e78fa3ed7216f36837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f8d4a9533cc8e78fa3ed7216f36837">&#9670;&nbsp;</a></span>ResetPassword() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionResult AlfaAccounting.Controllers.AccountController.ResetPassword </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns blank resest password view </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns blank resest password view</dd></dl>

</div>
</div>
<a id="a65a2a1f6a9de8c5c9f458346a9b820e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a2a1f6a9de8c5c9f458346a9b820e6">&#9670;&nbsp;</a></span>ResetPassword() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;ActionResult&gt; AlfaAccounting.Controllers.AccountController.ResetPassword </td>
          <td>(</td>
          <td class="paramtype">ResetPasswordViewModel&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get post reset password data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns reset password view</dd></dl>

</div>
</div>
<a id="a1fa3a682bb8d5ec0d2338412decc261a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa3a682bb8d5ec0d2338412decc261a">&#9670;&nbsp;</a></span>SendEmailConfirmationTokenAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;string&gt; AlfaAccounting.Controllers.AccountController.SendEmailConfirmationTokenAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>userID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>subject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>send email confirmation using passed userID and subject data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userID</td><td></td></tr>
    <tr><td class="paramname">subject</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a312898ad37c6e9c3c3a188110563508b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a312898ad37c6e9c3c3a188110563508b">&#9670;&nbsp;</a></span>_roleManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ApplicationSignInManager.ApplicationRoleManager AlfaAccounting.Controllers.AccountController._roleManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utitily method to allow access to RoleManager </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="acc05fd520ca89799979b9b0d389407d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc05fd520ca89799979b9b0d389407d7">&#9670;&nbsp;</a></span>SignInManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ApplicationSignInManager AlfaAccounting.Controllers.AccountController.SignInManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">private set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>allow access to owing context throug signin manager </p>

</div>
</div>
<a id="af407b4124a36361363279ce45a2d8e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af407b4124a36361363279ce45a2d8e78">&#9670;&nbsp;</a></span>UserManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ApplicationUserManager AlfaAccounting.Controllers.AccountController.UserManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">private set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>allows access to the ownin context through usermanager </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Me/Documents/Visual Studio 2015/Projects/AlfaAccounting/AlfaAccounting/Controllers/AccountController.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
